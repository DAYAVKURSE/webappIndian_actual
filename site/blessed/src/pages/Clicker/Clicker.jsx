
import styles from "./Clicker.module.scss";
import { NavLink } from "react-router-dom";
import { useEffect, useState } from "react";
import { getLeaders } from "../../requests/users/getLeaders";

export const Clicker = () => {
  
    const [selected, setSelected] = useState("Daily");
    const [leadersList, setLeadersList] = useState([]);

    useEffect(() => {
        const fetchLeaders = async () => {
            const data = await getLeaders('day');
            setLeadersList(data.leaders)
        }

        fetchLeaders()
    }, []);

    const handleChangeLeaderBoardState = async (state) => {
        const stateFetch = state === "Daily" ? 'day' : state === "Weekly" ? 'week' : "Annually";
        const data = await getLeaders(stateFetch);
        setLeadersList(data.leaders)
    }

    return (
        <div className={styles.clicker__container}>

            <h2 className={styles.title}>First legal Telegram casino</h2>
            <h3 className={styles.subtitle}>Join Now! </h3>
            <p className={styles.description}>Make a minimum deposit to participate in the giveaway of 3 Ducati motorbikes! Dont miss your chance!</p>

            <img className={styles.banner} src={'./banner.png'}></img>
            <div className={styles.games}>
                <h3>Top-3 Games</h3>
                <ul className={styles.games__list}>
                    <li className={styles.game__item}>
                        <NavLink to={'/games/crash'}>
                            <img src={'./starcrash.png'}></img>
                            <span className={styles.game__title}>
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M5.72058 0.595156C5.83165 0.358525 6.16822 0.358525 6.27928 0.595156L7.85402 3.95009L11.4063 4.49285C11.6546 4.53079 11.756 4.83364 11.5806 5.01342L8.9999 7.65839L9.60579 11.3728C9.64726 11.627 9.37737 11.8172 9.15192 11.6926L5.99993 9.95016L2.84781 11.6926C2.62236 11.8172 2.35247 11.627 2.39395 11.3728L2.99996 7.65839L0.419385 5.01341C0.243981 4.83363 0.345365 4.53079 0.593656 4.49285L4.14585 3.95009L5.72058 0.595156Z" fill="#E1E1E1" />
                                </svg>
                                <span>Star Crash</span>
                            </span>
                        </NavLink>
                    </li>
                    <li className={styles.game__item}>
                        <NavLink to={'/games/roulette'}>
                            <img src={'./roulete.png'}></img>
                            <span className={styles.game__title}>
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M5.64636 6.81559C5.61101 6.8034 5.57644 6.78956 5.54291 6.77396L3.51175 8.74917C4.11915 9.24266 4.85817 9.54033 5.64636 9.60901V6.81559Z" fill="#E1E1E1" />
                                    <path d="M9.87195 6.18723H6.99945C6.98691 6.2216 6.97268 6.25522 6.95663 6.28782L8.98777 8.26302C9.49523 7.67233 9.80133 6.95368 9.87195 6.18723Z" fill="#E1E1E1" />
                                    <path d="M6.45675 6.77396C6.42322 6.78958 6.38865 6.8034 6.3533 6.81559V9.60898C7.14146 9.54033 7.88046 9.24268 8.48788 8.74915L6.45675 6.77396Z" fill="#E1E1E1" />
                                    <path d="M6.96504 0.0749633C6.32762 -0.0245813 5.65929 -0.0277436 4.98883 0.0820671L5.99378 1.96846L6.96504 0.0749633Z" fill="#E1E1E1" />
                                    <path d="M3.01188 8.26304L5.04303 6.28782C5.02694 6.25522 5.01275 6.2216 5.00022 6.18723H2.12772C2.19832 6.95368 2.50439 7.67228 3.01188 8.26304Z" fill="#E1E1E1" />
                                    <path d="M5.04306 5.39911L3.0119 3.42392C2.50442 4.01459 2.19832 4.73324 2.12772 5.49971H5.00022C5.01278 5.46534 5.02699 5.43172 5.04306 5.39911Z" fill="#E1E1E1" />
                                    <path d="M6.3533 2.80791V4.87138C6.38865 4.88357 6.42322 4.89741 6.45675 4.91301L8.48765 2.93805C7.97508 2.52348 7.3579 2.24158 6.70385 2.12448L6.3533 2.80791Z" fill="#E1E1E1" />
                                    <path d="M7.67584 0.229584L7.0301 1.48853C7.86457 1.67578 8.63892 2.09043 9.24909 2.68376C11.0447 4.43042 11.0451 7.25609 9.24914 9.00317C7.45301 10.7493 4.54733 10.7499 2.75069 9.00326C0.955127 7.25658 0.954538 4.43092 2.75062 2.6838C3.35483 2.09646 4.12032 1.68396 4.94503 1.49417L4.27818 0.242485C0.0391544 1.40288 -1.50863 6.87705 1.75094 9.9754C3.98763 12.2424 8.01217 12.2423 10.2488 9.9754C13.5221 6.86236 11.9468 1.36486 7.67584 0.229584Z" fill="#E1E1E1" />
                                    <path d="M8.98777 3.42392L6.95663 5.39911C6.97271 5.43172 6.98691 5.46534 6.99945 5.49971H9.87195C9.80135 4.73326 9.49528 4.01463 8.98777 3.42392Z" fill="#E1E1E1" />
                                    <path d="M5.64627 2.81073L5.28201 2.12698C4.63345 2.24548 4.0211 2.52651 3.51199 2.93812L5.54285 4.91304C5.57638 4.89741 5.61095 4.88359 5.64629 4.8714V2.81073H5.64627Z" fill="#E1E1E1" />
                                    <path d="M5.99986 6.18726C6.19476 6.18726 6.35333 6.03307 6.35333 5.84353C6.33556 5.38816 5.66409 5.38827 5.64639 5.84353C5.64639 6.03307 5.80496 6.18726 5.99986 6.18726Z" fill="#E1E1E1" />
                                </svg>
                                <span>Roulette</span>
                            </span>
                        </NavLink>
                    </li>
                    <li className={styles.game__item}>
                        <NavLink to={'/games/nvuti'}>
                            <img src={'./vaut.png'}></img>
                            <span className={styles.game__title}>
                                <svg width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1.3086 6.19911C0.88 6.3672 0.8 6.54097 0.8 6.69951V8.32354C0.8 8.66438 1.3574 8.89073 2.1088 9.04136C1.68 9.20924 1.6 9.38321 1.6 9.54196V11.166C1.6 12.1526 6.2678 12.181 6.8 12.181C7.3322 12.181 12 12.1524 12 11.166V9.54196C12 9.40453 11.9986 9.0779 10.676 8.8209C10.998 8.69057 11.2 8.52796 11.2 8.32374V6.69972C11.2 6.56208 11.1986 6.23565 9.876 5.97885C10.198 5.84852 10.4 5.68592 10.4 5.4817V3.85767C10.4 3.69912 10.32 3.52454 9.8914 3.35727C10.6426 3.20644 11.2 2.97988 11.2 2.63904V1.01502C11.2 0.0284204 6.5322 0 6 0C5.4678 0 0.8 0.0284204 0.8 1.01502V2.63904C0.8 2.84326 1.002 3.00587 1.3238 3.1362C0.00139999 3.393 0 3.71963 0 3.85726V5.48129C0 5.82234 0.5574 6.04868 1.3086 6.19911ZM0.4 4.29981C0.529232 4.36054 0.66298 4.41084 0.8 4.45024V5.66075C0.652212 5.63109 0.514448 5.56327 0.4 5.46383V4.29981ZM8.4 5.90029V4.68714C8.6818 4.64999 8.9526 4.60594 9.2 4.55174V5.76346C8.9762 5.81198 8.708 5.85847 8.4 5.90029ZM8 5.94982C7.75347 5.97689 7.4868 6.00098 7.2 6.02209V4.80407C7.4624 4.78621 7.7326 4.76347 8 4.73566V5.94982ZM6.8 6.04706C6.5464 6.06107 6.28 6.07162 6 6.07893V4.8599C6.2364 4.8532 6.5086 4.84305 6.8 4.82742V6.04706ZM5.6 6.08766C5.4684 6.08928 5.3364 6.09091 5.2 6.09091C5.0636 6.09091 4.9316 6.08928 4.8 6.08766V4.86964C4.99 4.87269 5.1308 4.87309 5.2 4.87309C5.2692 4.87309 5.41 4.87309 5.6 4.86964V6.08766ZM4.4 6.07974C4.12 6.07244 3.8536 6.06188 3.6 6.04787V4.82782C3.8914 4.84345 4.1636 4.8536 4.4 4.8603V6.07974ZM3.2 6.0229C2.91347 6.00247 2.6468 5.97838 2.4 5.95063V4.73464C2.6674 4.76306 2.9376 4.78519 3.2 4.80306V6.0229ZM2 5.90029C1.692 5.85806 1.4238 5.81158 1.2 5.76306V4.55174C1.4474 4.60533 1.7182 4.64999 2 4.68714V5.90029ZM1.2 7.14206C1.32926 7.20278 1.463 7.25314 1.6 7.29269V8.5032C1.45222 8.47341 1.31447 8.40553 1.2 8.30608V7.14206ZM9.2 8.74233V7.52939C9.4818 7.49224 9.7526 7.44819 10 7.39399V8.60571C9.7762 8.65443 9.508 8.70173 9.2 8.74233ZM8.8 8.79187C8.55347 8.81893 8.2868 8.84302 8 8.86414V7.64612C8.2624 7.62825 8.5326 7.60552 8.8 7.57791V8.79187ZM7.6 8.88931C7.3464 8.90332 7.08 8.91387 6.8 8.92098V7.70215C7.0364 7.69565 7.3086 7.6853 7.6 7.66966V8.88931ZM6.4 8.92991C6.2684 8.93174 6.1364 8.93316 6 8.93316C5.8636 8.93316 5.7316 8.93174 5.6 8.92991V7.71189C5.79 7.71493 5.9308 7.71554 6 7.71554C6.0692 7.71554 6.21 7.71554 6.4 7.71189V8.92991ZM5.2 8.92199C4.92 8.91489 4.6536 8.90433 4.4 8.89032V7.66966C4.6914 7.6853 4.9636 7.69565 5.2 7.70215V8.92199ZM4 8.86515C3.71347 8.84471 3.4468 8.82063 3.2 8.79288V7.57709C3.4674 7.60531 3.7376 7.62744 4 7.6453V8.86515ZM2.8 8.74233C2.492 8.70011 2.2238 8.65382 2 8.6051V7.39399C2.2474 7.44758 2.5182 7.49224 2.8 7.52939V8.74233ZM2 9.9839C2.12927 10.0445 2.26301 10.0948 2.4 10.1343V11.3448C2.25226 11.315 2.11453 11.2472 2 11.1479V9.9839ZM6 10.544V11.7634C5.72 11.7561 5.4536 11.7456 5.2 11.7316V10.5115C5.4914 10.5288 5.7636 10.5379 6 10.5446V10.544ZM4.8 11.7066C4.51347 11.6862 4.2468 11.6621 4 11.6343V10.4193C4.2674 10.4476 4.5376 10.4699 4.8 10.4878V11.7066ZM3.6 11.5844C3.292 11.5424 3.0238 11.4959 2.8 11.4471V10.2364C3.0474 10.2898 3.3182 10.3347 3.6 10.3718V11.5844ZM6.4 11.7711V10.5531C6.59 10.556 6.7308 10.5566 6.8 10.5566C6.8692 10.5566 7.01 10.5566 7.2 10.5531V11.7711C7.0684 11.7728 6.9364 11.7744 6.8 11.7744C6.6636 11.7744 6.5316 11.7736 6.4 11.772V11.7711ZM10.8 10.2364V11.448C10.5762 11.4967 10.308 11.5432 10 11.5852V10.3718C10.2818 10.3347 10.5526 10.2898 10.8 10.2364ZM9.6 11.6349C9.35347 11.662 9.0868 11.6861 8.8 11.7072V10.4882C9.0624 10.4703 9.3326 10.4476 9.6 10.4197V11.6349ZM8.4 11.7322C8.1464 11.7462 7.88 11.7567 7.6 11.764V10.5446C7.8364 10.5379 8.1086 10.5277 8.4 10.5121V11.7322ZM11.2 11.3454V10.1349C11.337 10.0954 11.4707 10.0452 11.6 9.98451V11.1485C11.4855 11.2478 11.3477 11.3156 11.2 11.3454ZM11.584 9.54318C11.3286 9.80079 9.5564 10.151 6.8 10.151C4.0488 10.151 2.2784 9.80221 2.0176 9.5446C2.0844 9.48857 2.3296 9.34018 3.1416 9.19463C4.3924 9.33125 5.7296 9.33896 6 9.33896C7.22982 9.34245 8.4583 9.25642 9.676 9.08155C10.9956 9.2338 11.4754 9.44716 11.584 9.54318ZM10.4 8.5032V7.29269C10.537 7.25314 10.6707 7.20278 10.8 7.14206V8.30608C10.6855 8.40553 10.5478 8.47341 10.4 8.5032ZM10.784 6.70093C10.5288 6.95854 8.7566 7.30852 6 7.30852C3.2488 7.30852 1.4784 6.95997 1.2176 6.70235C1.2844 6.64633 1.5296 6.49793 2.3412 6.35217C3.592 6.4888 4.9296 6.49651 5.2 6.49651C6.42982 6.50009 7.6583 6.41414 8.876 6.2393C10.1954 6.39135 10.6754 6.60451 10.784 6.70093ZM9.6 5.66075V4.45024C9.73702 4.41084 9.87077 4.36054 10 4.29981V5.46383C9.88555 5.56327 9.74779 5.63109 9.6 5.66075ZM2 2.9202V1.70949C2.2474 1.76288 2.5182 1.80754 2.8 1.84469V3.05824C2.492 3.01622 2.2238 2.96973 2 2.92101V2.9202ZM3.2 1.89158C3.4674 1.9198 3.7376 1.94213 4 1.96V3.18005C3.71347 3.15934 3.4468 3.13518 3.2 3.10757V1.89158ZM4.4 1.98436C4.6914 1.99978 4.9636 2.01014 5.2 2.01663V3.23628C4.92 3.22897 4.6536 3.21841 4.4 3.20441V1.98436ZM5.6 2.02496C5.79 2.028 5.9308 2.02861 6 2.02861C6.0692 2.02861 6.21 2.02861 6.4 2.02496V3.24298C6.2684 3.2448 6.1364 3.24622 6 3.24622C5.8636 3.24622 5.7316 3.2448 5.6 3.24298V2.02496ZM6.8 2.01603C7.0364 2.00953 7.3086 1.99918 7.6 1.98375V3.2038C7.3464 3.2178 7.08 3.22836 6.8 3.23567V2.01603ZM8 1.95939C8.2624 1.94152 8.5326 1.91879 8.8 1.89097V3.10636C8.55347 3.13342 8.2868 3.15758 8 3.17883V1.95939ZM10 1.70949V2.92101C9.7762 2.96973 9.508 3.01622 9.2 3.05824V1.84469C9.4818 1.80754 9.7526 1.76288 10 1.70949ZM10.4 2.8185V1.60799C10.537 1.56844 10.6707 1.51808 10.8 1.45736V2.62138C10.6855 2.72083 10.5478 2.78871 10.4 2.8185ZM6 0.405803C8.76 0.405803 10.5338 0.756999 10.7852 1.01481C10.5338 1.27263 8.7606 1.62382 6 1.62382C3.2394 1.62382 1.4662 1.27182 1.2148 1.01481C1.4662 0.756999 3.24 0.405803 6 0.405803ZM1.2 1.45736C1.32926 1.51808 1.463 1.56844 1.6 1.60799V2.8185C1.45222 2.78871 1.31447 2.72083 1.2 2.62138V1.45736ZM2.324 3.39706C3.5417 3.5719 4.77018 3.65785 6 3.65426C6.2704 3.65426 7.6078 3.64655 8.8586 3.50993C9.6704 3.65568 9.9156 3.80387 9.9824 3.8599C9.7224 4.11751 7.9512 4.46627 5.2 4.46627C2.4436 4.46627 0.6714 4.1163 0.416 3.85848C0.5246 3.76226 1.0046 3.54911 2.324 3.39706Z" fill="#E1E1E1" />
                                </svg>
                                <span>Vault</span>
                            </span>
                        </NavLink>
                    </li>
                </ul>
                <div className={styles.topLeaders}>
                    <h3>Top-Winnings</h3>
                    <div className={styles.bannerLeaders}>
                        <h4>Top-10 winners </h4>
                        <div className={styles.controllButtons}>
                    {["Daily", "Weekly", "Annually"].map((option) => (
                        <label key={option} className={styles.radioLabel}>
                        <input
                            type="radio"
                            name="subscription"
                            value={option}
                            checked={selected === option}
                            onChange={() => setSelected(option)}
                            className={styles.radioInput} // скрываем стандартный input
                            onClick={() => handleChangeLeaderBoardState(option)}
                        />
                        <span className={styles.customRadio}></span> {/* кастомный кружок */}
                        <span className={styles.radioText}>{option}</span>
                        </label>
                    ))}
                    </div>
                        <div className={styles.winners}>
                            <div className={styles.leaderLine}>
                                <div className={`${styles.titleLeader} ${styles.leadersCard} `}>User</div>
                                <div className={`${styles.titleLeader} ${styles.leadersCard} `}>Win</div>
                            </div>
                            {
                                leadersList.map((el, index) => {
                                    return (
                                        <div key={index} className={styles.leaderLine}>
                                            <div className={styles.leadersCard}>{el.nickname}</div>
                                            <div className={styles.leadersCard}>{el.total_winnings}</div>
                                        </div>
                                    )
                                })
                            }
                        </div>
                    </div>
                </div>
                <p className={styles.footer__decription}>The casino is legal, has a certificate, registered in Cyprus under number 453728992354</p>
                <div className={styles.line}></div>
                <img className={styles.downLogo} src={'/logosmall.png'}></img>
            </div>
        </div>
    );
};
